<form class="form-inline" role="form" name="searchBoutiqueFormValidation" ng-submit="search(searchBoutiqueFormValidation.$valid)"> <div class="row"> <div class="col-xs-5"> <div class="form-group" ng-class="{'has-error':searchBoutiqueFormValidation.time.$invalid&&submitted,'has-success':searchBoutiqueFormValidation.time.$valid&&submitted}"> <label class="control-label">选择查看日期&nbsp;</label>  <x-date-picker style="width:280px" ng-model="time" name="time" data-date-format="yyyy-mm-dd" required x-required></x-date-picker> </div> </div> <div class="col-xs-6"> <label class="">选择查看类型&nbsp;</label> <div class="checkbox"> <label class="checkbox-inline"> <input class="form-control" type="checkbox" value="1" ng-model="slideShow" ng-init="slideShow=true"> 轮播图 </label> <label class="checkbox-inline"> <input class="form-control" type="checkbox" value="2" ng-model="pictureShow" ng-init="pictureShow=true"> 图形应用 </label> <label class="checkbox-inline"> <input class="form-control" type="checkbox" value="3" ng-model="articleShow" ng-init="articleShow=true"> 文章 </label> <label class="checkbox-inline"> <input class="form-control" type="checkbox" value="4" ng-model="iconShow" ng-init="iconShow=true"> iconAPP </label> </div> </div> <div class="col-xs-1"> <button type="submit" class="btn btn-primary">查询</button> </div> </div> </form> <ul class="list-group" id="boutique-list"> <li class="list-group-item text-center table-hint" ng-show="searchStatus===SEARCH_STATUS.SEARCHING">精品数据加载中...</li> <li class="list-group-item text-center table-hint" ng-show="searchStatus===SEARCH_STATUS.SEARCH_FAILED">查询失败，请重新加载</li> <li class="list-group-item" ng-repeat="boutique in boutiqueList|orderBy:'time':true" ng-init="open=false;slideOpen=boutique.turnpic.length!=0;pictureOpen=boutique.picapp.length!=0;iconOpen=boutique.iconapp.length!=0;articleOpen=boutique.article.length!=0;"> <div class="panel panel-info"> <div class="panel-heading text-center" ng-click="open=!open"> <label>{{boutique.time}}（{{boutique.status}}）</label></div> <div class="panel-body" ng-show="open"> <div class="panel panel-default" ng-show="slideShow" ng-class="{'panel-success':boutique.turnpic.length!=0,'panel-danger':boutique.turnpic.length==0}">  <div class="panel-heading text-center curso" ng-click="slideOpen=!slideOpen"><label>轮播图</label></div> <table class="table table-bordered table-hover" ng-show="slideOpen"> <thead> <tr class="text"> <td>位置</td> <td>应用icon</td> <td>应用名称</td> <td>标题</td> <td>轮播图</td> <td>一句话简介</td> <td>版本</td> <td>更新日期</td> <td>类别</td> <td>应用状态</td> <td>操作</td> </tr> </thead> <tbody x-drag-sort="data-drag-id" x-drag-completed="sortSlide" x-drag-param="{{boutique.time}}"> <tr ng-repeat="app in boutique.turnpic" data-drag-id="{{app.sort_id}}"> <td>{{$index+1}}</td> <td><img ng-src="{{app.imgSrc}}"></td> <td>{{app.APPNAME}}</td> <td>{{app.title}}</td> <td><img class="slide-img" ng-src="{{app.first_pic}}" x-view-img x-img-title="轮播图"></td> <td><a x-selector="#app-intro-form" title="一句话简介" x-popover x-close="deletePopover" data-placement="top" x-style="height:250px;width:280px;">{{app.APPINTRO}}</a></td> <td>{{app.APPVERSION}}</td> <td>{{app.updateTime}}</td> <td>{{app.categoryName}}</td> <td>{{app.appStatus}}</td> <td> <div class="btn-group btn-group-sm"> <a type="button" class="btn btn-default" ng-href="#/boutique/slide-add/{{app.left_id}}">编辑 </a> <button type="button" class="btn btn-default" ng-click="deleteSlide(app.left_id,boutique.time)" x-confirm-hint x-modal-title="删除轮播图" x-modal-content="确认删除吗？"> 删除 </button> </div> </td> </tr> </tbody> </table> </div> <div class="panel panel-default" ng-show="pictureShow" ng-class="{'panel-success':boutique.picapp.length!=0,'panel-danger':boutique.picapp.length==0}">  <div class="panel-heading text-center" ng-click="pictureOpen=!pictureOpen"><label>图形APP</label> <div class="btn-group btn-group-sm" x-prevent-spread="click"> <a type="button" class="btn btn-default" ng-disabled="!boutique.picapp[0].left_id" ng-href="#/boutique/picture-add/{{boutique.picapp[0].left_id}}" ng-click="editPicture(boutique.picapp[0].left_id)">编辑 </a> <a type="button" class="btn btn-default" ng-disabled="!boutique.picapp[0].left_id" ng-click="deletePicture(boutique.picapp[0].left_id,boutique.time)" x-confirm-hint x-modal-title="删除图形app" x-modal-content="确认删除吗？"> 删除 </a> </div> </div> <table class="table table-bordered table-hover" ng-show="pictureOpen"> <thead> <tr> <td>位置</td> <td>应用icon</td> <td>应用名称</td> <td>一句话简介</td> <td>版本</td> <td>更新日期</td> <td>类别</td> <td>应用状态</td> </tr> </thead> <tbody x-drag-sort="data-drag-id" x-drag-completed="sortPicture" x-drag-param="{{boutique.time}}"> <tr ng-repeat="app in boutique.picapp" data-drag-id="{{app.sort_id}}"> <td>{{$index+1}}</td> <td><img ng-src="{{app.imgSrc}}"></td> <td>{{app.APPNAME}}</td> <td><a x-selector="#app-intro-form" title="一句话简介" x-popover x-close="deletePopover" data-placement="top" x-style="height:250px;width:280px;">{{app.APPINTRO}}</a></td> <td>{{app.APPVERSION}}</td> <td>{{app.updateTime}}</td> <td>{{app.categoryName}}</td> <td>{{app.appStatus}}</td> </tr> </tbody> </table> </div> <div class="panel panel-default" ng-show="articleShow" ng-class="{'panel-success':boutique.article.length!=0,'panel-danger':boutique.article.length==0}">  <div class="panel-heading text-center" ng-click="articleOpen=!articleOpen"><label>文章</label> <div class="btn-group btn-group-sm" x-prevent-spread="click"> <a type="button" class="btn btn-default" ng-disabled="boutique.article.length==0||boutique.article[0].id==0" ng-href="#/boutique/article-add/{{boutique.article[0].id}}">编辑 </a> <a type="button" class="btn btn-default" ng-click="deleteArticle(boutique.article[0].id,boutique.time)" ng-disabled="boutique.article.length==0||boutique.article[0].id==0" x-confirm-hint x-modal-title="删除文章" x-modal-content="确认删除吗？"> 删除 </a> </div> </div> <table class="table table-bordered table-hover" ng-show="articleOpen"> <thead> <tr> <td>位置</td> <td>文章标题</td> <td>首图</td> <td>类型</td> <td>内容预览</td> <td>app个数</td>  </tr> </thead>  <tbody x-drag-sort="data-drag-id" x-drag-completed="sortArticle" x-drag-param="{{boutique.time}}" ng-if="boutique.article[0].id==0"> <tr ng-repeat="app in boutique.article"> <td>{{$index+1}}</td> <td>{{app.title}}</td> <td><img ng-src="{{app.first_pic}}" class="index-picture" x-view-img x-img-title="首图"></td> <td>{{app.content}}</td> <td><span data-toggle="tooltip" data-placement="bottom" data-original-title="{{app.text}}" x-tooltip>{{app.text}}</span></td> <td>{{app.appTotal}}</td>               </tr> </tbody> <tbody x-drag-sort="data-drag-id" x-drag-completed="sortArticle" x-drag-param="{{boutique.time}}" ng-if="boutique.article[0].id!=0"> <tr ng-repeat="app in boutique.article" data-drag-id="{{app.sort_id}}"> <td>{{$index+1}}</td> <td>{{app.title}}</td> <td><img ng-src="{{app.first_pic}}" class="index-picture" x-view-img x-img-title="首图"></td> <td>{{app.content}}</td> <td><span data-toggle="tooltip" data-placement="bottom" data-original-title="{{app.text}}" x-tooltip>{{app.text}}</span></td> <td>{{app.appTotal}}</td> </tr> </tbody> </table> </div> <div class="panel panel-default" ng-show="iconShow" ng-class="{'panel-success':boutique.iconapp.length!=0,'panel-danger':boutique.iconapp.length==0}">  <div class="panel-heading text-center" ng-click="iconOpen=!iconOpen"><label>iconApp</label> <div class="btn-group btn-group-sm" x-prevent-spread="click"> <a type="button" class="btn btn-default" ng-disabled="!boutique.iconapp[0].left_id" ng-href="#/boutique/icon-add/{{boutique.iconapp[0].left_id}}">编辑 </a> <button type="button" class="btn btn-default" ng-disabled="!boutique.iconapp[0].left_id" ng-click="deleteIcon(boutique.iconapp[0].left_id,boutique.time)" x-confirm-hint x-modal-title="删除iconapp" x-modal-content="确认删除吗？"> 删除 </button> </div> </div> <table class="table table-bordered table-hover" ng-show="iconOpen"> <thead> <tr> <td>位置</td> <td>应用icon</td> <td>应用名称</td> <td>一句话简介</td> <td>版本</td> <td>更新日期</td> <td>应用类别</td> <td>应用状态</td> </tr> </thead> <tbody x-drag-sort="data-drag-id" x-drag-completed="sortIcon" x-drag-param="{{boutique.time}}"> <tr ng-repeat="app in boutique.iconapp" data-drag-id="{{app.sort_id}}"> <td>{{$index+1}}</td> <td><img ng-src="{{app.imgSrc}}"></td> <td>{{app.APPNAME}}</td> <td>{{app.APPINTRO}}</td> <td>{{app.APPVERSION}}</td> <td>{{app.updateTime}}</td> <td>{{app.categoryName}}</td> <td>{{app.appStatus}}</td> </tr> </tbody> </table>  </div> </div> </div> </li> </ul> <div class=""> <button type="button" class="btn btn-success" style="width:400px;margin:auto;display:block" ng-click="getMore()">获取更多 </button> </div> <template id="app-intro-form" class="hide" ng-include="introduceTemplateUrl"> </template>