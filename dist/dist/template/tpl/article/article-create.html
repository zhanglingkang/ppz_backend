<form class="form-horizontal" role="form" id="article-add-form" name="articleFormValidation" ng-submit="addArticle(articleFormValidation)" x-reset="formReset" novalidate> <div class="form-group" ng-class="{'has-error':articleFormValidation.releaseTime.$invalid&&submitted,'has-success':articleFormValidation.releaseTime.$valid&&submitted}"> <label class="col-sm-1 control-label">发布日期</label> <div class="col-sm-6">  <x-date-picker data-date-format="yyyy-mm-dd hh:ii" required="required" data-min-view="0" name="releaseTime" ng-model="articleForm.release_time"></x-date-picker> <p ng-show="articleFormValidation.releaseTime.$error.required&&submitted" class="help-block"> 发布日期不能为空</p> </div> </div> <div class="form-group"> <label class="col-sm-1 control-label">置顶</label> <div class="col-sm-10"> <label class="radio-inline"> <input type="radio" name="isTop" value="1" ng-model="article.isTop" required="required"> 是 </label> <label class="radio-inline"> <input type="radio" name="isTop" value="0" ng-model="article.isTop" required="required"> 否 </label> </div> </div> <div class="form-group" ng-if="article.isTop==1" ng-class="{'has-error':articleFormValidation.startTime.$invalid&&submitted,'has-success':articleFormValidation.startTime.$valid&&submitted}"> <label class="col-sm-1 control-label">置顶起始日期</label> <div class="col-sm-6"> <x-date-picker data-date-format="yyyy-mm-dd" required="required" name="startTime" ng-model="articleForm.priority_stime"></x-date-picker> <p ng-show="articleFormValidation.startTime.$error.required&&submitted" class="help-block"> 置顶起始日期不能为空</p> </div> </div> <div class="form-group" ng-if="article.isTop==1" ng-class="{'has-error':articleFormValidation.endTime.$invalid&&submitted,'has-success':articleFormValidation.endTime.$valid&&submitted}"> <label class="col-sm-1 control-label">置顶结束日期</label> <div class="col-sm-6"> <x-date-picker data-date-format="yyyy-mm-dd" required="required" name="endTime" ng-model="articleForm.priority_etime"></x-date-picker> <p ng-show="articleFormValidation.endTime.$error.required&&submitted" class="help-block"> 置顶结束日期不能为空</p> </div> </div> <div class="form-group" ng-class="{'has-error':articleFormValidation.title.$invalid&&submitted,'has-success':articleFormValidation.title.$valid&&submitted}"> <label for="title" class="col-sm-1 control-label">标题</label> <div class="col-sm-6"> <input type="input" ng-model="articleForm.title" class="form-control" id="title" placeholder="标题" ng-minlength="5" ng-maxlength="24" required="required" name="title" maxlength="24"> <p ng-show="articleFormValidation.title.$error.required&&submitted" class="help-block"> 标题不能为空</p> <p ng-show="(articleFormValidation.title.$error.minlength||articleFormValidation.title.$error.maxlength)&&submitted" class="help-block"> 标题为5-24个字符长度</p> </div> </div> <div class="form-group" ng-class="{'has-error':articleFormValidation.source.$invalid&&submitted,'has-success':articleFormValidation.source.$valid&&submitted}"> <label for="source" class="col-sm-1 control-label">来源</label> <div class="col-sm-6"> <input type="input" ng-model="articleForm.source" class="form-control" id="source" placeholder="请输入文章来源" required="required" name="source"> <p ng-show="articleFormValidation.source.$error.required&&submitted" class="help-block"> 来源不能为空</p> <p ng-show="(articleFormValidation.source.$error.minlength||articleFormValidation.source.$error.maxlength)&&submitted" class="help-block"> 来源为5-10个字符长度</p> </div> </div> <div class="form-group" ng-class="{'has-error':articleFormValidation.type.$invalid&&submitted,'has-success':articleFormValidation.type.$valid&&submitted}"> <label class="col-sm-1 control-label" for="type">类型</label> <div class="col-sm-6"> <select class="form-control" name="type" ng-model="articleForm .type" id="type"> <option value="testing">评测</option> </select> <p ng-show="articleFormValidation.type.$error.required&&submitted" class="help-block"> 类型不能为空</p> </div> </div> <div class="form-group" ng-class="{'has-error':articleFormValidation.content.$invalid&&submitted,'has-success':articleFormValidation.content.$valid&&submitted}"> <label class="col-sm-1 control-label" for="content">内容类型</label> <div class="col-sm-6"> <select class="form-control" name="content" ng-model="articleForm.content" id="content"> <option value="article">文章</option> <option value="video">视频</option> </select> <p ng-show="articleFormValidation.content.$error.required&&submitted" class="help-block"> 内容类型不能为空</p> </div> </div>           <div class="form-group" ng-class="{'has-error':articleFormValidation.imageFile.$invalid&&submitted,'has-success':articleFormValidation.imageFile.$valid&&submitted}"> <label for="picture" class="col-sm-1 control-label">首图</label> <div class="col-sm-6"> <p class="form-control-static">620*370px</p> <input ng-if="article.imgUrl" type="file" name="imageFile" id="picture" placeholder="请选择首图" data-preview-img="#article-add-preview-img" data-set-file="article.firstPicFiles" x-file-type="image" x-img-size="620*370" ng-model="article.xxxx"> <input ng-if="!article.imgUrl" type="file" name="imageFile" id="picture" placeholder="请选择首图" data-preview-img="#article-add-preview-img" data-set-file="article.firstPicFiles" x-file-type="image" x-img-size="620*370" x-file-required ng-model="article.xxxx">  <img id="article-add-preview-img" ng-src="{{article.imgUrl}}" alt="点击我预览大图" x-view-img x-img-title="文章首图" x-clear-img x-clear="imgClear"> <p ng-show="articleFormValidation.imageFile.$error.required&&submitted" class="help-block"> 首图不能为空</p> <p ng-show="articleFormValidation.imageFile.$error.fileType&&submitted" class="help-block"> 请选择图片文件</p> <p ng-show="articleFormValidation.imageFile.$error.imgSize&&submitted" class="help-block"> 请选择620*370px的图片</p> </div> </div> <div class="form-group" ng-class="{'has-error':articleFormValidation.text.$invalid&&submitted,'has-success':articleFormValidation.text.$valid&&submitted}"> <label class="col-sm-1 control-label">正文</label> <div class="col-sm-11">   <x-editor ng-model="articleForm.text" required name="text"></x-editor> <p ng-show="articleFormValidation.text.$error.required&&submitted" class="help-block"> 内容不能为空</p> </div> </div>            </form>  <div class="form-horizontal"> <div class="form-group"> <label class="col-sm-1 control-label">添加应用</label> <div class="col-sm-10"> <x-app-search> <div class="panel panel-default"> <div class="panel-heading text-center">选中应用列表</div> <div class="panel-body"> <table class="table table-condensed table-hover"> <thead> <tr> <th>序号</th> <th>应用ICON</th> <th>应用名称</th> <th>快用发布时间</th> <th>一句话简介</th> <th>应用版本</th> <th>应用更新日期</th> <th>应用类别</th> <th>应用状态</th> <th>应用价格</th> <th>操作</th> </tr> </thead> <tbody x-drag-sort="data-drag-id" x-drag-completed="sortAddedApp"> <tr ng-repeat="app in addedApp" data-app-id="{{app.APPID}}" data-drag-id="{{app.APPID}}"> <td>{{$index+1}}</td> <td><img ng-src="{{app.imgSrc}}"></td> <td>{{app.APPNAME}}</td> <td>{{app.APPINSERTTIME}}</td> <td>{{app.APPINTRO}} </td> <td>{{app.APPVERSION}}</td> <td>{{app.updateTime}}</td> <td>{{app.CATEGORYNAME}}</td> <td>{{app.appStatus}}</td> <td>{{app.APPPRICE}}</td> <td> <div class="btn-group btn-group-sm"> <button type="button" class="btn btn-default" ng-click="deleteApp(app)">删除 </button>            </div> </td> </tr> </tbody> </table> </div> </div> </x-app-search> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-1 col-sm-10"> <button type="submit" class="btn btn-info" form="article-add-form" x-submitting x-is-submitting="submitting"> 提交 </button> </div> </div> <template id="extend-end-form" class="hide"> <form name="extendEndFormValidation" ng-submit="addExtendEnd(extendEndFormValidation.$valid)" class="form-horizontal"> <div class="form-group">  <div class="col-xs-12"> <x-date-picker data-date-format="yyyy-mm-dd" required="required" name="extendEnd" ng-model="slide.extendEnd"></x-date-picker> </div> </div> <div class="form-group"> <div class="col-sm-offset-8"> <button type="submit" class="btn btn-default trigger-hide">确定</button> </div> </div> </form> </template>